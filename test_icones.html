<!DOCTYPE  html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<style type="text/css">
html {
height: 100%;
}
body {
height: 100%;
margin: 0px;
padding: 0px;
}
#map_canvas {
height: 100%;
width: 100%;
}
</style>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false" ></script>
<script type="text/javascript">

function initialize() {

	// import de la carte MapQuest
	
	mapQuestType = new google.maps.ImageMapType({
		getTileUrl: function(coord, zoom) {
			return "http://otile1.mqcdn.com/tiles/1.0.0/map/" +
			zoom + "/" + coord.x + "/" + coord.y + ".png";
		},
		tileSize: new google.maps.Size(256, 256),
		isPng: true,
		alt: "MapQuest layer (données OSM)",
		name: "MapQuest",
		maxZoom: 20
	});
	
	var latlng= new google.maps.LatLng(50.3586, 3.5236);
	var myOptions = {
		zoom: 13,
		center: latlng,
		mapTypeControlOptions: {mapTypeIds: [google.maps.MapTypeId.ROADMAP,google.maps.MapTypeId.SATELLITE,'MapQuest'],style: google.maps.MapTypeControlStyle.DROPDOWN_MENU},
		mapTypeId: 'MapQuest'
	};
	map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
	map.mapTypes.set('MapQuest',mapQuestType);
	
	arrayIcones = ['auditorium.png' , 'autres services.png' , 'autres services2.png' , 'autres services3.png' , 'autres services4.png' , 'autres services5.png' , 'bibliotheque.png' , 'collège.png' , 'conservatoire.png' , 'creche.png' , 'equipement sportif 1.png' , 'equipement sportif 2.png' , 'equipement sportif 3.png' , 'equipement sportif 4.png' , 'equipement sportif 5.png' , 'espace famille jeunesse.png' , 'hotel de ville.png' , 'lycee1.png' , 'lycee2.png' , 'maternelle.png' , 'office de tourisme.png' , 'primaire.png' , 'statue.png' , 'theatre.png' , 'universite.png']

	for (icone in arrayIcones){
		x = Math.random() * (3.578-3.488) + 3.488;
		y = Math.random() * (50.379-50.333) + 50.333;
		latlngIcone = new google.maps.LatLng(y,x);
		
		if (arrayIcones[icone] == "statue.png"){
			var marker = new google.maps.Marker({
				position: latlngIcone,
				map: map,
				icon: {url: "img2/"+arrayIcones[icone], scaledSize: new google.maps.Size(12.5,30)}			
			});
		} else {
			var marker = new google.maps.Marker({
				position: latlngIcone,
				map: map,
				icon: {url: "img2/"+arrayIcones[icone], scaledSize: new google.maps.Size(30,34)}			
			});
		};
	};
};
</script>
</head>
<body onload="initialize()">
<div id="map_canvas"></div>
</body>
</html>
